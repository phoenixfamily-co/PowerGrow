{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://kit.fontawesome.com/f872c5c890.js" crossorigin="anonymous"></script>

    {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}

        <title>مدیریت دوره ها</title>


    <style>

           @font-face {
            font-family: BYekan;
            font-style: normal;
            font-weight: normal;
            src: url("/static/fonts/BYekan.eot");/* IE9 Compat Modes */
            src: url("/static/fonts/BYekan.woff") format('woff'),
            url("/static/fonts/BYekan.woff") format('woff2'), /* Super Modern Browsers */ url("../../static/fonts/BYekan.ttf") format('truetype') /* Safari, Android, iOS */
        }
           html, body {
            margin: 0;
            padding: 0 ;
            background: #312f2e;
            overflow-x: hidden;
            font-family: BYekan, serif !important;
        }

        .logoHolder {
            width: 100%;
            position: relative;
            margin-top: 20px;
            left: 0;
            display: flex;
            z-index: 10 !important;
            direction: ltr;
            align-items: center;
            justify-content: center;

        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 25px;

        }

        .typography {
            color: white;
            font-size: 20px;
            margin-left: 10px;

        }


           .pagination-container {
               display: flex;
               justify-content: center;
           }

           .search-bar-container {
               display: flex;
               justify-content: center; /* مرکز کردن نوار جستجو */
               margin: 50px auto; /* فاصله از بالا و پایین */
               width: 100%; /* نوار جستجو تمام عرض را بگیرد */
               direction: rtl;
           }

.search-form {
    display: flex;
    width: 80%;  /* نوار جستجو به اندازه 80% عرض صفحه یا کانتینر شود */
    max-width: 1200px;  /* حداکثر عرض */
    position: relative;  /* برای کنترل دکمه جستجو */
}

.search-input {
    flex: 1;  /* به نوار جستجو اجازه می‌دهد تمام فضای در دسترس را پر کند */
    padding: 10px 15px;  /* فاصله داخلی */
    border: 2px solid #ccc;  /* حاشیه خاکستری */
    border-radius: 25px;  /* گوشه‌های گرد */
    outline: none;
    font-size: 16px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);  /* سایه خفیف */
    transition: border-color 0.3s;
    text-align: right;
}

.search-input:focus {
    border-color: #E16539;  /* رنگ حاشیه وقتی روی فیلد کلیک می‌شود */
}

.search-button {
    background-color: transparent;
    border: none;
    position: absolute;
    left: 10px;  /* فاصله از سمت راست */
    top: 50%;
    transform: translateY(-50%);
    color: #E16539;
    cursor: pointer;
    font-size: 18px;
}

.search-button:hover {
    color: #E16539;
}


            .table-actions {
                display: flex;
                justify-content: flex-end; /* دکمه در سمت راست قرار می‌گیرد */
                margin-top: 20px;
            }

           .add-data-button {
               background-color: #E16539;
               color: white;
               padding: 10px 20px;
               border: none;
               border-radius: 5px;
               cursor: pointer;
               font-size: 16px;
               transition: background-color 0.3s;
           }

.add-data-button:hover {
    background-color: #a84e2c;  /* تغییر رنگ در حالت hover */
}

          .month {
            width: 100%;
            height: 25%;
            float: right;
            background: #e4633a;
            text-align: center;
            border-top-left-radius: 1rem
        }

        .month ul {
            margin: 0;
            padding: 0;
        }

        .month ul li {
            color: white;
            font-size: 20px;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        .month .prev {
            float: right;
            margin-top: 20px;
            cursor: pointer;
        }

        .month .next {
            float: left;
            margin-top: 20px;
            cursor: pointer;
        }

        .weekdays {
            margin: 0;
            padding: 5px 0;
            background-color: #ddd;
            direction: rtl;
            border-top-left-radius: 1rem
        }

        .weekdays li {
          display: inline-block;
          width: 12.6%;
          color: #666;
          text-align: center;
        }

        .days {
            padding: 5px 0;
            margin: 0;
            direction: rtl;
            border-bottom-left-radius: 20px;
        }

        .days li {
            list-style-type: none;
            display: inline-block;
            width: 13.3%;
            text-align: center;
            margin-bottom: 1px;
            font-size:16px;
            color: #000000;
            cursor: pointer;
        }
        .activeButton {
            border-radius: 50px;
            background: #1a5bbc;
            color: white !important
        }

         .holidayButton {
            border-radius: 50px;
            color: #ff0c0c !important;
             cursor: pointer;
        }

         .disActiveButton{

             cursor: none;
             pointer-events: none;
             opacity:0.6;
         }

        .disabled-button{
            height: 50px;
            margin-top: 4%;
            margin-right: 5%;
            margin-bottom: 4%;
            width: 90%;
            opacity: 0.5;
            background: #e4633a;
            border-color: transparent;
            color: white;
            cursor: none;
            pointer-events: none;
        }
        .product-img{
            width: 70%;
            height: 30rem;
            float: right;
            border-radius: 1rem 0 0 1rem;

        }
         .list-group-item-fixed {
             width: auto;
             margin-top: 3.5%;
             padding-bottom: 3.5%;
        }
        .list-group-left {
            text-align: center;
            float: left;
            display: inline;
            width: 40%;
        }
        .list-group-right {
            text-align: right;
            float: right;
            display: inline;
            width: 35%;
        }

        div.list-group-right {
            width: 55%;
            display: inline-flex;
        }

          .date-time{
            width: 70%;
            float: right;
            margin-top: 15px;
            display: inline;
        }

        .date-picker{
            width: 50%;
            height: 300px;
            background: #FFFFFF ;
            float: right;
            border-top-left-radius: 1rem;
            border-bottom-left-radius: 1rem;
        }

         .time-picker{
            width: 49%;
            height: 300px;
            background: #FFFFFF ;
            float: left;
            border-radius: 1rem ;
        }

           .show {
            display: block;
            visibility: visible;
            -webkit-animation: fadeIn 1s;
            animation: fadeIn 1s;
        }


          ul {
            list-style-type: none;
        }

          .time-body{
            margin-right: 5%;
            margin-top: 5%;
        }

          .autocomplete {
              /*the container must be positioned relative:*/
              position: relative;
              display: inline-block;
              width: 300px;
          }
input {
  border: 1px solid transparent;
  background-color: #f1f1f1;
  padding: 10px;
  font-size: 16px;
}
input[type=text] {
  background-color: #f1f1f1;
  width: 100%;
}
input[type=submit] {
  background-color: DodgerBlue;
  color: #fff;
}
.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}
.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff;
  border-bottom: 1px solid #d4d4d4;
}
.autocomplete-items div:hover {
  /*when hovering an item:*/
  background-color: #e9e9e9;
           }

    </style>
</head>
<body>


<div class="logoHolder">

    <img alt="" src="/media/{{ about.logo }}" class="logo">
    <div class="typography">PowerGrow</div>

</div>

   <div class="search-bar-container">
    <input type="text" id="searchInput" class="search-input" placeholder="جستجو...">
   </div>


<div class="pagination-container">

    {% if page_obj.has_next %}
        <a class="btn btn-outline-light mx-1" href="?page={{page_obj.next_page_number}}"><i class="fa fa-chevron-left"></i></a>
    {% endif %}

    <span class="btn btn-outline-light disabled mx-1">صفحه {{ page_obj.number }}</span>

   {% if page_obj.has_previous %}
        <a class="btn btn-outline-light mx-1" href="?page={{page_obj.previous_page_number}}"><i class="fa fa-chevron-right"></i></a>
    {% endif %}

</div>


<div class="table-actions">
    <button class="btn btn-success add-data-button">افزودن دوره</button>
</div>

<div class="table-responsive" dir="rtl">
    <table id="myTable" class="table table-hover table-bordered table-dark">
        <thead>
            <tr>
                <th>#</th>
                <th colspan="3" class="text-center">عملیات</th>
                <th>نام دوره</th>
                <th>نام مربی</th>
                <th>جنسیت</th>
                <th>نوع</th>
                <th>ظرفیت</th>
                <th>ورزش</th>
                <th>وضعیت</th>
            </tr>
        </thead>
        <tbody>
            {% for x in page_obj.object_list %}
            <tr>
                <th scope="row">{{ x.id }}</th>
                <td class="text-center">
                    <i class="fa fa-eye text-info" aria-hidden="true" style="cursor: pointer" title="مشاهده" onclick="window.open('{% url 'product:product_view' x.id %}')"></i>
                </td>
                <td class="text-center">
                    <i class="fa fa-pencil text-warning" aria-hidden="true" style="cursor: pointer" title="ویرایش" onclick="window.open('{% url 'product:course-detail' x.id %}')"></i>
                </td>
                 <td class="text-center">
                    <i class="fa fa-times text-danger" aria-hidden="true" style="cursor: pointer" title="حذف" onclick="window.open('{% url 'product:course-detail' x.id %}')"></i>
                </td>
                <td>{{ x.title }}</td>
                <td>{{ x.name }}</td>
                <td>{{ x.gender }}</td>
                <td>{{ x.type }}</td>
                <td>{{ x.capacity }}</td>
                <td>{{ x.sport.title }}</td>
                <td class="text-center">
                    {% if x.active %}
                        <i class="fa fa-check-circle text-success"></i>
                    {% else %}
                        <i class="fa fa-ban text-danger"></i>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>




<script>

    document.getElementById('searchInput').addEventListener('keyup', function() {
    var input, filter, table, tr, td, i, j, txtValue;
    input = document.getElementById('searchInput');
    filter = input.value.toUpperCase();
    table = document.getElementById('myTable');
    tr = table.getElementsByTagName('tr');

    for (i = 1; i < tr.length; i++) {
        tr[i].style.display = "none"; // همه ردیف‌ها ابتدا مخفی می‌شوند
        td = tr[i].getElementsByTagName('td');

        for (j = 0; j < td.length; j++) { // هر سلول را بررسی می‌کنیم
            if (td[j]) {
                txtValue = td[j].textContent || td[j].innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = ""; // اگر متن مورد نظر پیدا شد، ردیف نمایش داده شود
                    break;
                }
            }
        }
    }
});

</script>

</body>

</html>