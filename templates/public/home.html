{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://kit.fontawesome.com/1228ed801f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://static.neshan.org/sdk/mapboxgl/v1.13.2/neshan-sdk/v1.0.8/index.css"/>
    <script src="https://static.neshan.org/sdk/mapboxgl/v1.13.2/neshan-sdk/v1.0.8/index.js"></script>




    <title>PowerGrow</title>

    {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}




    <style>

        @font-face {
            font-family: BYekan;
            font-style: normal;
            font-weight: normal;
            src: url("/static/fonts/BYekan.eot");/* IE9 Compat Modes */
            src: url("/static/fonts/BYekan.woff") format('woff'),
            url("/static/fonts/BYekan.woff") format('woff2'), /* Super Modern Browsers */ url("../../static/fonts/BYekan.ttf") format('truetype') /* Safari, Android, iOS */
        }

        * {
            box-sizing: border-box
        }

        img {
            vertical-align: middle;
        }

        .logoHolder {
            width: 50px;
            position: absolute;
            left: 0;
            right: 0;
            margin-right: 55%;
            margin-top: 1%;
            z-index: 10 !important;
            direction: ltr;

        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            position: absolute;
            direction: ltr

        }

        .typography {
            position: absolute;
            margin-left: 60px;
            margin-top: 20%;
            color: white;
            font-size: 20px

        }


        .dropdown {
            position: relative;
            display: inline-block;
        }



        .dropdown:hover {
            display: block;

        }

        .dropdown-content a {
            color: black;
            padding: 5px 16px;
            font-size: 16px;
            text-decoration: none;
            display: block;
        }

        /* Change color of dropdown links on hover */
        .dropdown-content a:hover {
            background-color: #f1f1f1
        }





        .card {
            width: 20rem;
            background: #C1C1C1;
        }

        .btn {
            background-color: #E16539;
            border-color: transparent;
            color: white;
            cursor: pointer;
        }

        html{
            min-height: 100%;
            position: relative;
            font-family: BYekan, serif !important;
        }

        body {
            margin-bottom: 500px;
            direction: rtl;
        }


        .property {
            width: 45%;
            direction: rtl;
            unicode-bidi: bidi-override;
            margin-right: 20px;
            z-index: 10 !important;
        }


        .property-item {
            width: 30%;
            height: 35px;
            background-color: #E16539;
            border-color: transparent;
            border-radius: 5px;
            color: white;
            font-family: BYekan, serif !important;
            font-size: 10px;

        }


        .navbar.navbar-dark.bg-dark li a{
            color: #fff;
        }

          .navbar.navbar-dark.bg-dark a:hover{
              color: grey;
        }

       .nav.navbar-nav li a {
           color: #fff;
           text-decoration: none;
       }

        .nav.navbar-nav a:hover {
            color: grey;
        }

        .nav-pills > li > a.active {
            background-color: #E16539 !important;
        }

        .carousel-item{
            height: 30rem;
            background: #777777;
            color: white;
            position: relative;
        }

        .display-5{
            position: relative;
            width: 100%;
            height: auto;
            margin-top: -20px;
            text-align: center;
        }

        .nav.navbar-nav.navbar-left {
            margin-left: 20px;
        }

        footer{
            position: absolute;
            left: 0;
            bottom: 0;
            height: auto;
            width: 100%;
            background: #303030;

        }



           @media screen and (max-width: 600px) {
            .copy{
                font-size: 12px;
        }
               .nav.navbar-nav.navbar-left{
                   position: absolute;
                   left: 0;
                   margin-top: 3%;
               }
        }


    </style>


</head>
<body>

<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
<ul class="nav nav-pills">
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href='{{% url 'home:home' %}'>صفحه اصلی</a>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">ورزش ها</a>
    <ul class="dropdown-menu dropdown-menu-right">
         {% for x in sport %}
             <li><a style="color: black ; width: 100% ; text-align: center" class="dropdown-item" href="{% url 'product:category' x.id %}">{{ x.title }}</a></li>
         {% endfor %}
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">اجاره سالن</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">درباره ما</a>
  </li>
</ul>
  <ul class="nav navbar-nav navbar-left">
      <li><a href='{% url 'user:login' %}'><span class="glyphicon glyphicon-user"></span>ورود و عضویت</a></li>
    </ul>
  </div>
</nav>

<div class="logoHolder">

    <img alt="" src="/media/{{ about.logo }}" class="logo">
    <div class="typography">PowerGrow</div>

</div>


<div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel" style="height: 32rem">

  <div class="carousel-inner">
       {% for x in images %}
           {% if x.id == first.id %}

                         <div class="carousel-item active">
                <img style="width: 100% ; height: 100%" class="img-responsive" src="/media/{{ x.image }}" alt="slide {{ x.id }}">
             <div class="carousel-caption">
                 <h5>{{ x.title }}</h5>
                 <p>{{ x.description }}</p>

      </div>
    </div>

           {% else %}
                     <div class="carousel-item">
                <img style="width: 100% ; height: 100%" class="img-responsive" src="/media/{{ x.image }}" alt="slide {{ x.id }}">
             <div class="carousel-caption">
                 <h5>{{ x.title }}</h5>
                 <p>{{ x.description }}</p>
      </div>
    </div>
           {% endif %}


    {% endfor %}

  </div>

   <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>

</div>

<h4 class="display-5">دوره های منتخب</h4>

<div class="container-fluid py-2">

    <div class="d-flex flex-row flex-nowrap overflow-auto">


    {% for x in selected %}

  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6 col-xl-4">
        <div class="card" style="border-radius: 15px;">
          <div class="bg-image hover-overlay ripple ripple-surface ripple-surface-light"
            data-mdb-ripple-color="light">
            <img src="/media/{{ x.image }}"
              style="border-top-left-radius: 15px; border-top-right-radius: 15px;" class="img-fluid"
              alt="product" />
            <a href="#!">
              <div class="mask"></div>
            </a>
          </div>
          <div class="card-body pb-0">
            <div class="d-flex justify-content-between">
              <div>
                <p><a style="text-decoration: none" class="text-dark">نام دوره</a></p>
                <p class="small text-muted">نام مربی</p>
              </div>
              <div>
                <p class="small text-muted">{{ x.title }}</p>
                <p class="small text-muted">{{ x.name }}</p>
              </div>
            </div>
          </div>
          <hr class="my-0" />
          <div class="card-body pb-0">
            <div class="d-flex justify-content-between">
              <p><a style="text-decoration: none" class="text-dark">شهریه دوره</a></p>
              <p class="text-dark">{{ x.tuition }} تومان </p>
            </div>
            <p class="small text-muted align-items-center">مناسب برای {{ x.gender }}</p>
          </div>
          <hr class="my-0" />
          <div class="card-body">
            <div style="float: left" class="d-flex align-items-center pb-2 mb-1">
              <button type="button" class="btn" itemid="{{ x.id }}">ثبت نام</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

    {% endfor %}

    </div>

</div>

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">تعداد و روز جلسات را انتخاب کنید</h5>
        <button id="closeButton" type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

           <label for="session">تعداد جلسات در ماه را انتخاب کنید :</label>
        <select name="numbers" id="session" style="margin-right: 14.5vh">
        </select>
        <br>
        <br>
        <label for="week">روزهای برگزاری در هفته را مشخص کنید:</label>
        <select name="days" id="week" style="margin-right: 10vh">
        </select>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">بستن</button>
        <button id="continueButton" type="button" class="btn btn-primary">ادامه</button>
      </div>
    </div>
  </div>
</div>


<div style="width: 100%;height: 500px ; float: right">

    <h2 class="col-5"
        style="float: right ; margin-right: 15px; height: auto; font-weight: bold;font-size: 25px; direction: rtl;">
        خانوادگی ورزش کنید</h2>

    <p class="col-5"
       style="margin-bottom: 50px; height: 10px; margin-right: 20px ; font-size: 18px ; margin-top: 65px ; direction: rtl">
        ورزش کردن به صورت خانوادگی، فرصتی خوب برای ایجاد ارتباط بین اعضای خانواده و تقویت روابط خانوادگی است. با هم ورزش
        کردن، اعضای خانواده به یکدیگر نزدیک‌تر می‌شوند و این باعث افزایش همبستگی و تعامل میان آن‌ها می‌شود. علاوه بر
        این، ورزش کردن به صورت خانوادگی باعث ایجاد خاطرات خوب و لحظات شاد و خوشایند برای خانواده می‌شود. همچنین، با توجه
        به اینکه اعضای خانواده در یک محیط سالم و فعال شرکت می‌کنند، آن‌ها به نحوی نمونه سالمی برای یکدیگر هستند و این
        باعث تشویق به سبک زندگی سالمتر و فعال‌تر در خانواده می‌شود. در نتیجه، ورزش کردن به صورت خانوادگی، فواید بسیاری
        برای سلامت جسمی و روانی اعضای خانواده دارد و باعث تقویت روابط خانوادگی و افزایش همبستگی میان آن‌ها می‌شود.
    </p>

    <img class="img-responsive" src="../../static/images/family.jpg" alt="" style="float: left ; width: 45% ">

{#    <div class="property" style="margin-top: 370px">#}
{#        <button class="property-item col-4" onclick="">تقویت روابط خانوادگی</button>#}
{#        <button class="property-item col-4" onclick="">افزایش اعتماد به نفس</button>#}
{#        <button class="property-item col-4" onclick="">بهبود خلاقیت</button>#}
{##}
{#    </div>#}
{##}
{#    <div class="property" style="margin-top: 420px">#}
{#        <button class="property-item col-4" onclick="">ایجاد خاطرات به یاد ماندنی</button>#}
{#        <button class="property-item col-4" onclick="">افزایش همبستگی</button>#}
{#        <button class="property-item col-4" onclick="">لحظات شاد و مفرح</button>#}
{##}
{#    </div>#}


</div>

{#<div class="col-hieght-13">#}
{##}
{##}
{#    <h2 class="col-5"#}
{#        style="left: 0;position: absolute; direction: rtl; margin-bottom: 10px; font-size: 25px; height: 1px; font-weight: bold">#}
{#        استعداد ورزشی فرزند خود را پیدا کنید</h2>#}
{##}
{#    <p class="col-5" style="position: absolute ; font-size: 18px ; height: auto ;margin-top: 65px ; left: 0">#}
{#        استعدایابی ورزشی کودکان به معنای ارزیابی قابلیت‌های فیزیکی، شناختی و روانی کودکان با استفاده از ابزار و تست‌های#}
{#        مختلف است. در بسیاری از کشورها از جمله ایران، این فرایند به منظور شناسایی استعدادهای ورزشی کودکان انجام می‌شود.#}
{#        برای انجام این فرایند، فرد باید به صورت منظم و دوره‌ای ارزیابی شود و عوامل مختلفی از جمله خصوصیات فردی، حمایت#}
{#        خانواده و پشتوانه ورزشی وی در نظر گرفته شود. با این حال، باید توجه داشت که علاوه بر استعداد ورزشی، علاقه و#}
{#        انگیزه فرد نیز در انتخاب ورزش مناسب بسیار مهم است.#}
{#    </p>#}
{##}
{#    <div class="property" style="left: 0 ; margin-top: 370px">#}
{#        <button class="property-item col-4" onclick="">استفاده از ابزار های حرفه ای</button>#}
{#        <button class="property-item col-4" onclick="">دقت و تکرار ارزیابی</button>#}
{#        <button class="property-item col-4" onclick="">توجه به عوامل مختلف</button>#}
{##}
{#    </div>#}
{##}
{#    <div class="property" style="left: 0 ; margin-top: 420px">#}
{#        <button class="property-item col-4" onclick="">مربی های حرفه ای</button>#}
{#        <button class="property-item col-4" onclick="">برنامه های شخصی سازی شده</button>#}
{#        <button class="property-item col-4" onclick="">تمرکز بر سلامت روحی و روانی</button>#}
{##}
{#    </div>#}
{##}
{##}
{#    <img src="../../static/images/children.jpg" alt="" style="width: 50%;height: 450px ; position: absolute ; right: 0">#}
{##}
{##}
{#</div>#}

<footer>
  <!-- Grid container -->
  <div class="container p-4">
    <!--Grid row-->
    <div class="row">
      <!--Grid column-->
      <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
        <h5 class="text-uppercase">Footer text</h5>

        <p>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
          molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
          voluptatem veniam, est atque cumque eum delectus sint!
        </p>
      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-lg-6 col-md-12 mb-4 mb-md-0">
        <h5 class="text-uppercase">Footer text</h5>

        <p>
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
          molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
          voluptatem veniam, est atque cumque eum delectus sint!
        </p>
      </div>
      <!--Grid column-->
    </div>
    <!--Grid row-->
  </div>
  <!-- Grid container -->

  <!-- Copyright -->
  <div class="p-3 copy" style="background: #151111 ; color: #B1B2B2; direction: ltr">&copy;<span id="year"
                                    style="font-family: Cambria, 'Hoefler Text', 'Liberation Serif', Times, 'Times New Roman', 'serif'">2023 </span><span> PhoenixFamily. All rights reserved.</span>
        <a href="//www.instagram.com/phoenixfamily.co?igshid=OGQ5ZDc2ODk2ZA=="
           style="right: 0 ; position: absolute ; margin-right:15px">
            <i class="fa-brands fa-instagram" style="color: #ffffff ; font-size: 30px"></i>
        </a>
        <a href="//www.linkedin.com/company/phoenixfamily" style="right: 0 ; position: absolute ; margin-right:55px">
            <i class="fa-brands fa-linkedin" style="color: #ffffff ; font-size: 30px"></i>
        </a>
        <span style="right: 0;margin-right: 90px; position: absolute">Follow us:</span>
    </div>
  <!-- Copyright -->
</footer>

</body>


<script>

    let lat = {{ about.latitude }};
    let long =     {{ about.longitude }};

    const map = new nmp_mapboxgl.Map({
        mapType: nmp_mapboxgl.Map.neshanVector,
        container: "map",
        zoom: 15,
        pitch: 0,
        center: [long, lat],
        minZoom: 2,
        maxZoom: 21,
        trackResize: false,
        mapKey: "web.3c30ab5c27a242d19aab4bca4e973288",
        poi: true,
        traffic: true,
        mapTypeControllerStatus: {
            show: false,
        }
    });
</script>

<script>
    const registerButton = document.getElementById("registerButton");
    const closeButton = document.getElementById("closeButton");
    const continueButton = document.getElementById("continueButton");
    const myModal = new bootstrap.Modal(document.getElementById('myModal'));
    const session = document.getElementById("number");
    const week = document.getElementById("week");
    const sessionList = document.getElementById("session")
    let course

    const buttons = document.querySelectorAll('.btn');
    Array.from(buttons).forEach(function (button) {
        button.addEventListener('click', async function () {
            course = this.getAttribute("itemid")
              myModal.toggle()
            const response = await fetch(`/product/api/sessions/${course}/`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json',
                },
            });

            const result = await response.json()
            if (response.status === 200) {
                const res = JSON.stringify(result)
                const sum = JSON.parse(res)
                const size = JSON.parse(res).length
                sessionList.innerHTML = ''
                for (let i = 0; i < size; i++) {
                    const item = document.createElement("option")
                    item.innerHTML = sum[i].number + 'جلسه'
                    item.setAttribute("value", sum[i].id)
                    sessionList.appendChild(item)
                }
                await getDays(sum[0].id)
            }
        })
        sessionList.addEventListener('change', function () {
            getDays(this.value)
        })

    })

    closeButton.addEventListener("click", function () {
        myModal.toggle()
    })

     continueButton.addEventListener("click", function () {
        document.location.assign(`/product/${0}/${item}/`)
    })

    async function getDays(query) {

        const response = await fetch(`/product/api/days/${query}/`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
            },
        });

        const result = await response.json()
        if (response.status === 200) {
            const res = JSON.stringify(result)
            const sum = JSON.parse(res)
            const size = JSON.parse(res).length
            week.innerHTML = ''
            for (let i = 0; i < size; i++) {
                const item = document.createElement("option")
                item.innerHTML = sum[i].title
                item.setAttribute("value", sum[i].id)
                week.appendChild(item)
            }
        }
    }

</script>

</html>
