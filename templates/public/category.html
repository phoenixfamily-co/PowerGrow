{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://kit.fontawesome.com/1228ed801f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://static.neshan.org/sdk/mapboxgl/v1.13.2/neshan-sdk/v1.0.8/index.css"/>
    <script src="https://static.neshan.org/sdk/mapboxgl/v1.13.2/neshan-sdk/v1.0.8/index.js"></script>


    <title> ورزش های {{ title.title }} </title>

     {% load bootstrap5 %}
    {% bootstrap_css %}
    {% bootstrap_javascript %}

 <style>

        @font-face {
            font-family: BYekan;
            font-style: normal;
            font-weight: normal;
            src: url("/static/fonts/BYekan.eot");/* IE9 Compat Modes */
            src: url("/static/fonts/BYekan.woff") format('woff'),
            url("/static/fonts/BYekan.woff") format('woff2'), /* Super Modern Browsers */ url("../../static/fonts/BYekan.ttf") format('truetype') /* Safari, Android, iOS */
        }

        * {
            box-sizing: border-box
        }

        img {
            vertical-align: middle;
        }

        .logoHolder {
            width: 50px;
            position: absolute;
            left: 0;
            right: 0;
            margin-right: 55%;
            margin-top: 1%;
            z-index: 10 !important;
            direction: ltr;

        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 25px;
            position: absolute;
            direction: ltr

        }

        .typography {
            position: absolute;
            margin-left: 60px;
            margin-top: 20%;
            color: black;
            font-size: 20px

        }


        .dropdown {
            position: relative;
            display: inline-block;
        }



        .dropdown:hover {
            display: block;

        }

        .dropdown-content a {
            color: black;
            padding: 5px 16px;
            font-size: 16px;
            text-decoration: none;
            display: block;
        }

        /* Change color of dropdown links on hover */
        .dropdown-content a:hover {
            background-color: #f1f1f1
        }





        .card {
            width: 20rem;
            background: #C1C1C1;
        }

        .btn {
            background-color: #E16539;
            border-color: transparent;
            color: white;
            cursor: pointer;
        }

        html{
            min-height: 100%;
            position: relative;
            font-family: BYekan, serif !important;
        }

        body {
            direction: rtl;
            margin-bottom: 1100px;

        }


        .navbar.navbar-dark.bg-dark li a{
            color: #fff;
        }

          .navbar.navbar-dark.bg-dark a:hover{
              color: grey;
        }

       .nav.navbar-nav li a {
           color: #fff;
           text-decoration: none;
       }

        .nav.navbar-nav a:hover {
            color: grey;
        }

        .nav-pills > li > a.active {
            background-color: #E16539 !important;
        }


        .nav.navbar-nav.navbar-left {
            margin-left: 20px;
        }

        footer{
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            background: #303030;

        }

        .row{
            margin-top: 5px ;
            text-align: center ;
            justify-content: center;
            align-items: center;
            vertical-align: middle;
        }


        .map{
            height: 100% ;
            width: 20% ;
            margin-right: 40%
        }

        .footer-container{
            height: 250px;
        }

        .footer-logo{
            height: 100%;
            float: left;
        }

         ul {
            list-style-type: none;
        }

        ul li {
            margin-top: 30px;
        }

           @media screen and (max-width: 600px) {
            .copy{
                font-size: 12px;
        }
               .nav.navbar-nav.navbar-left{
                   position: absolute;
                   left: 0;
                   margin-top: 5%;
               }

               .map{
                   height: 200px;
                   width: 200px;
                   margin-top: 50px;
                   margin-right: 30%;
''
               }
               .footer-container{
                   height: 600px;
               }

               .footer-logo{
                   float: none;
                   height: 200px;
                   margin-right: 30%;
               }

               ul li {
                   margin-top: 10px;
               }

        }

        ::-webkit-scrollbar{
            overflow-y: hidden;
        }

  {##}
  {#.searchbar {#}
  {#          overflow: hidden;#}
  {#          background-color: #e9e9e9;#}
  {#          margin-right: 5%;#}
  {#          margin-left: 3%;#}
  {#          height: 6vh;#}
  {#          margin-top: 5vh;#}
  {#          border-color: transparent;#}
  {#          border-radius: 5px;#}
  {#      }#}
  {##}
  {##}
  {#      /* Style the search box inside the navigation bar */#}
  {#      .searchbar input[type=text] {#}
  {#          border-color: transparent;#}
  {#          font-size: 17px;#}
  {#          width: 100%;#}
  {#          height: 100%;#}
  {#          background: transparent;#}
  {#          direction: rtl;#}
  {#      }#}


    </style>

</head>
<body>


<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid" style="vertical-align: center">
<ul class="nav nav-pills">
  <li class="nav-item">
    <a class="nav-link" aria-current="page" href='{% url 'home:home' %}'>صفحه اصلی</a>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle active" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">{{ title.title }}</a>
    <ul class="dropdown-menu dropdown-menu-right">
         {% for x in sport %}
             <li><a style="color: black ; width: 100% ; text-align: center" class="dropdown-item" href="{% url 'product:category' x.id %}">{{ x.title }}</a></li>
         {% endfor %}
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">اجاره سالن</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href='{% url 'about:aboutUs'%}'>درباره ما</a>
  </li>
</ul>
  <ul class="nav navbar-nav navbar-left">
      <li><a href='{% url 'user:login' %}'><span class="glyphicon glyphicon-user"></span>ورود و عضویت</a></li>
    </ul>
  </div>
</nav>

<div class="logoHolder">

    <img alt="" src="/media/{{ about.logo }}" class="logo">
    <div class="typography">PowerGrow</div>

</div>

<div class="container-fluid py-2 justify-content-center " style="margin-top: 500px">

    <div class="row justify-content-start gy-5">

        {% for x in selected %}

      <div class="col-md-4">
        <div class="card" style="border-radius: 15px;">
          <div class="bg-image hover-overlay ripple ripple-surface ripple-surface-light"
            data-mdb-ripple-color="light">
            <img src="/media/{{ x.image }}"
              style="border-top-left-radius: 15px; border-top-right-radius: 15px;" class="img-fluid"
              alt="product" />
            <a href="#!">
              <div class="mask"></div>
            </a>
          </div>
          <div class="card-body pb-0">
            <div class="d-flex justify-content-between">
              <div>
                <p><a style="text-decoration: none" class="text-dark">نام دوره</a></p>
                <p class="small text-muted">نام مربی</p>
              </div>
              <div>
                <p class="small text-muted">{{ x.title }}</p>
                <p class="small text-muted">{{ x.name }}</p>
              </div>
            </div>
          </div>
          <hr class="my-0" />
          <div class="card-body pb-0">
            <div class="d-flex justify-content-between">
              <p><a style="text-decoration: none" class="text-dark">شهریه دوره</a></p>
              <p class="text-dark">{{ x.tuition }} تومان </p>
            </div>
            <p class="small text-muted align-items-center">مناسب برای {{ x.gender }}</p>
          </div>
          <hr class="my-0" />
          <div class="card-body">
            <div style="float: left" class="d-flex align-items-center pb-2 mb-1">
              <button type="button" class="btn" itemid="{{ x.id }}">ثبت نام</button>
            </div>
          </div>
        </div>
      </div>
            {% endfor %}
    </div>
</div>


{#<div class="searchbar">#}
{#    <label>#}
{#        <input id="search" type="text" placeholder="نام دوره یا نام مربی را وارد کنید . . .">#}
{#    </label>#}
{#</div>#}
{##}
{#<div id="container" class="container">#}
{#    <div class="wrapper" id="wrapper"></div>#}
{#</div>#}


<footer>
       <div class="footer-container">

        <div class="footer-logo">

            <h3 style="color: white ; direction: ltr ; text-align: center ; margin-top: 20px">PowerGrow</h3>
            <img class="img-responsive" style="width: 200px ; height: 200px"  src="/media/{{ about.transparent_logo }}"
                 alt="">
        </div>

       <ul style="float: right">

       <li>
            <div style="display: inline-flex ; width: 350px ">

        <i class="fa-solid fa-location-dot"
           style="color: #ffffff; font-size: 30px"></i>
        <h5 style="color:white ; margin-right: 5px">

            {% autoescape off %}

                {{ about.address|linebreaksbr }}

            {% endautoescape %}

        </h5>

       </div>

       </li>


      <li>
       <div  style="display: inline-flex ; width: 350px" >
           <i class="fa-solid fa-phone-flip"
                   style="color: #ffffff; font-size: 30px"></i>
        <h5 style="color:white ; margin-right: 5px">
            {{ about.phone }}<br> {{ about.telephone }}
        </h5>

       </div>

       </li>

       <li>

            <div style="display: inline-flex ; width: 350px">

        <i class="fa-brands fa-instagram"
           style="color: #ffffff; font-size: 30px"></i>
        <h5 style="color:white ; margin-right: 5px">
            {{ about.instagram }}
        </h5>

       </div>

       </li>

       </ul>

        <div id="map" class="img-responsive map">
        </div>

    </div>

  <!-- Copyright -->
  <div class="p-3 copy" style="background: #151111 ; color: #B1B2B2; direction: ltr">&copy;<span id="year"
                                    style="font-family: Cambria, 'Hoefler Text', 'Liberation Serif', Times, 'Times New Roman', 'serif'">2023 </span><span> PhoenixFamily. All rights reserved.</span>
        <a href="//www.instagram.com/phoenixfamily.co?igshid=OGQ5ZDc2ODk2ZA=="
           style="right: 0 ; position: absolute ; margin-right:15px">
            <i class="fa-brands fa-instagram" style="color: #ffffff ; font-size: 30px"></i>
        </a>
        <a href="//www.linkedin.com/company/phoenixfamily" style="right: 0 ; position: absolute ; margin-right:55px">
            <i class="fa-brands fa-linkedin" style="color: #ffffff ; font-size: 30px"></i>
        </a>
        <span style="right: 0;margin-right: 90px; position: absolute">Follow us:</span>
    </div>
  <!-- Copyright -->
</footer>

</body>


<script>

    let lat = {{ about.latitude }};
    let long =     {{ about.longitude }};

    const map = new nmp_mapboxgl.Map({
        mapType: nmp_mapboxgl.Map.neshanVector,
        container: "map",
        zoom: 15,
        pitch: 0,
        center: [long, lat],
        minZoom: 2,
        maxZoom: 21,
        trackResize: false,
        mapKey: "web.3c30ab5c27a242d19aab4bca4e973288",
        poi: true,
        traffic: true,
        mapTypeControllerStatus: {
            show: false,
        }
    });
</script>

{##}
{#<script>#}
{##}
{#    const searchInput = document.getElementById("search")#}
{#    const container = document.getElementById("container")#}
{#    const wrapper = document.getElementById("wrapper")#}
{#    const closeButton = document.getElementById("closeButton");#}
{#    const myPopup = document.getElementById("myPopup");#}
{#    const session = document.getElementById("number");#}
{#    const week = document.getElementById("week");#}
{#    const sessionList = document.getElementById("session")#}
{#    let course#}
{##}
{#    window.onload = function () {#}
{#        search('')#}
{#    }#}
{##}
{#    searchInput.addEventListener("input", function (event) {#}
{##}
{#        search(event.target.value)#}
{##}
{#    })#}
{##}
{#    async function search(query) {#}
{##}
{#        console.log({{ sport.id }})#}
{##}
{#        const response = await fetch(`/product/api/search/{{ id }}?search=${query}`, {#}
{#            method: 'GET',#}
{#            headers: {#}
{#                'Content-Type': 'application/json',#}
{#            },#}
{#        });#}
{#        const result = await response.json()#}
{#        if (response.status === 200 && result.length !== 0) {#}
{#            const res = JSON.stringify(result)#}
{#            const sum = JSON.parse(res)#}
{#            const size = JSON.parse(res).length#}
{#            wrapper.innerHTML = ''#}
{#            for (let i = 0; i < size; i++) {#}
{#                const course = document.createElement("div")#}
{#                const imageElement = document.createElement("img")#}
{#                const cardButton = document.createElement("button")#}
{#                const listTitle = document.createElement("ol")#}
{#                const firstTitle = document.createElement("li")#}
{#                const secondTitle = document.createElement("li")#}
{#                const thirdTitle = document.createElement("li")#}
{#                const forthTitle = document.createElement("li")#}
{#                const fifthTitle = document.createElement("li")#}
{#                const listValue = document.createElement("ol")#}
{#                const firstValue = document.createElement("li")#}
{#                const secondValue = document.createElement("li")#}
{#                const thirdValue = document.createElement("li")#}
{#                const forthValue = document.createElement("li")#}
{#                const fifthValue = document.createElement("li")#}
{#                firstTitle.style.cssText = 'font-size: 16px;font-weight: bold'#}
{#                firstTitle.innerHTML = "نام دوره:"#}
{#                secondTitle.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                secondTitle.innerHTML = "نام مربی:"#}
{#                thirdTitle.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                thirdTitle.innerHTML = "مناسب برای:"#}
{#                forthTitle.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                forthTitle.innerHTML = "نوع دوره:"#}
{#                fifthTitle.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                fifthTitle.innerHTML = "شهریه ثابت:"#}
{#                firstValue.style.cssText = 'font-size: 16px;font-weight: bold'#}
{#                firstValue.innerHTML = sum[i].title#}
{#                secondValue.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                secondValue.innerHTML = sum[i].name#}
{#                thirdValue.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                thirdValue.innerHTML = sum[i].gender#}
{#                forthValue.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                forthValue.innerHTML = sum[i].type#}
{#                fifthValue.style.cssText = 'margin-top: 20px; font-size: 16px; font-weight: bold'#}
{#                fifthValue.innerHTML = sum[i].tuition#}
{#                listTitle.appendChild(firstTitle)#}
{#                listTitle.appendChild(secondTitle)#}
{#                listTitle.appendChild(thirdTitle)#}
{#                listTitle.appendChild(forthTitle)#}
{#                listTitle.appendChild(fifthTitle)#}
{#                listValue.appendChild(firstValue)#}
{#                listValue.appendChild(secondValue)#}
{#                listValue.appendChild(thirdValue)#}
{#                listValue.appendChild(forthValue)#}
{#                listValue.appendChild(fifthValue)#}
{#                listTitle.classList.add("card-title")#}
{#                listValue.classList.add("card-value")#}
{#                imageElement.setAttribute('src', sum[i].image)#}
{#                imageElement.classList.add("card-image")#}
{#                cardButton.classList.add("card-button")#}
{#                cardButton.innerHTML = "ثبت نام کنید"#}
{#                cardButton.setAttribute("itemid", sum[i].id)#}
{#                course.appendChild(imageElement)#}
{#                course.appendChild(cardButton)#}
{#                course.appendChild(listTitle)#}
{#                course.appendChild(listValue)#}
{#                course.classList.add("card")#}
{#                wrapper.appendChild(course)#}
{#            }#}
{#            const buttons = document.querySelectorAll('.card-button');#}
{#            Array.from(buttons).forEach(function (button) {#}
{#                button.addEventListener('click', async function () {#}
{#                    course = this.getAttribute("itemid")#}
{#                    myPopup.classList.toggle("show");#}
{#                    const response = await fetch(`/product/api/sessions/${course}/`, {#}
{#                        method: 'GET',#}
{#                        headers: {#}
{#                            'Content-Type': 'application/json',#}
{#                        },#}
{#                    });#}
{##}
{#                    const result = await response.json()#}
{#                    if (response.status === 200) {#}
{#                        const res = JSON.stringify(result)#}
{#                        const sum = JSON.parse(res)#}
{#                        const size = JSON.parse(res).length#}
{#                        sessionList.innerHTML = ''#}
{#                        for (let i = 0; i < size; i++) {#}
{#                            const item = document.createElement("option")#}
{#                            item.innerHTML = sum[i].number + 'جلسه'#}
{#                            item.setAttribute("value", sum[i].id)#}
{#                            sessionList.appendChild(item)#}
{#                        }#}
{#                        await getDays(sum[0].id)#}
{#                    }#}
{#                })#}
{#                sessionList.addEventListener('change', function () {#}
{#                    getDays(this.value)#}
{#                })#}
{##}
{#            })#}
{#        }#}
{#    }#}
{##}
{#    async function getDays(query) {#}
{##}
{#        const response = await fetch(`/product/api/days/${query}/`, {#}
{#            method: 'GET',#}
{#            headers: {#}
{#                'Content-Type': 'application/json',#}
{#            },#}
{#        });#}
{##}
{#        const result = await response.json()#}
{#        if (response.status === 200) {#}
{#            const res = JSON.stringify(result)#}
{#            const sum = JSON.parse(res)#}
{#            const size = JSON.parse(res).length#}
{#            week.innerHTML = ''#}
{#            for (let i = 0; i < size; i++) {#}
{#                const item = document.createElement("option")#}
{#                item.innerHTML = sum[i].title#}
{#                item.setAttribute("value", sum[i].id)#}
{#                week.appendChild(item)#}
{#            }#}
{#        }#}
{##}
{#    }#}
{##}
{#    closeButton.addEventListener("click", function () {#}
{#        window.location.assign(`/product/${course}/${sessionList.value}/${week.value}/`)#}
{#    });#}
{#    window.addEventListener("click", function (event) {#}
{#        if (event.target === myPopup) {#}
{#            myPopup.classList.remove("show");#}
{#        }#}
{##}
{#    })#}
{##}
{#</script>#}

</html>